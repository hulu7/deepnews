define(function(ba,ia,ja){var f=jQuery=ba("jquery"),F={setTop:0,setLeft:0,type:"hover-50",axis:"x",speed:15,contentTouchScroll:25,markup:{buttonsPlaceholder:!1,buttonsHTML:{up:"SVG set 1",down:"SVG set 1",left:"SVG set 1",right:"SVG set 1"}},advanced:{autoExpandHorizontalScroll:!0,updateOnContentResize:!0,updateOnImageLoad:!0},theme:"none",callbacks:{onTotalScrollOffset:0,onTotalScrollBackOffset:0,alwaysTriggerOffsets:!0}},ca=0,I={},J=window.attachEvent&&!window.addEventListener?1:0,U,A=["mTS_disabled",
"mTS_destroyed","mTS_no_scroll"],C={init:function(a){a=f.extend(!0,{},F,a);var e=E.call(this);if(a.live){var b=a.liveSelector||this.selector||".mThumbnailScroller",c=f(b);if("off"===a.live){K(b);return}I[b]=setTimeout(function(){c.mThumbnailScroller(a);"once"===a.live&&c.length&&K(b)},500)}else K(b);a.speed=0===a.speed?100:a.speed;Y(a);return f(e).each(function(){var e=f(this);if(!e.data("mTS")){e.data("mTS",{idx:++ca,opt:a,html:null,overflowed:null,bindEvents:!1,tweenRunning:!1,langDir:e.css("direction"),
cbOffsets:null,trigger:null});var b=e.data("mTS").opt,d=e.data("mts-axis"),c=e.data("mts-type"),k=e.data("mts-theme");d&&(b.axis=d);c&&(b.type=c);k&&(b.theme=k,Y(b));var b=f(this),d=b.data("mTS"),c=d.opt,k="yx"===c.axis?"mTS_vertical_horizontal":"x"===c.axis?"mTS_horizontal":"mTS_vertical",n=c.markup.thumbnailsContainer||"ul",m=c.markup.thumbnailContainer||"li",p=c.markup.thumbnailElement||"img";d.html=b.children().clone(!0,!0);b.find(n).length||(n=b.find("li").length?"<ul class='mTSAutoContainer' />":
"<div class='mTSAutoContainer' />",b.wrapInner(n),n=".mTSAutoContainer");c.setWidth&&b.css("width",c.setWidth);c.setHeight&&b.css("height",c.setHeight);c.setLeft="y"!==c.axis&&"rtl"===d.langDir?"-989999px":c.setLeft;b.addClass("mThumbnailScroller _mTS_"+d.idx+" mTS-"+c.theme).find(n).wrap("<div id='mTS_"+d.idx+"' class='mTSWrapper "+k+"' />").addClass("mTSContainer").attr("id","mTS_"+d.idx+"_container").css({position:"relative",top:c.setTop,left:c.setLeft}).find(m).addClass("mTSThumbContainer").find(p).addClass("mTSThumb");
c=f(this);d=c.data("mTS");b=d.opt;c=b.markup.buttonsPlaceholder?"outside"===b.markup.buttonsPlaceholder?c:f(b.markup.buttonsPlaceholder):f("#mTS_"+d.idx);d=["<a href='#' id='mTS_"+d.idx+"_buttonUp' class='mTSButton mTSButtonUp'><span class='mTSButtonIconContainer'>"+L.call(this,"up")+"</span></a>","<a href='#' id='mTS_"+d.idx+"_buttonDown' class='mTSButton mTSButtonDown'><span class='mTSButtonIconContainer'>"+L.call(this,"down")+"</span></a>","<a href='#' id='mTS_"+d.idx+"_buttonLeft' class='mTSButton mTSButtonLeft'><span class='mTSButtonIconContainer'>"+
L.call(this,"left")+"</span></a>","<a href='#' id='mTS_"+d.idx+"_buttonRight' class='mTSButton mTSButtonRight'><span class='mTSButtonIconContainer'>"+L.call(this,"right")+"</span></a>"];c.hasClass("mThumbnailScroller")&&"static"===c.css("position")&&c.css("position","relative");-1!==b.type.indexOf("click")&&("x"!==b.axis&&c.append(d[0]+d[1]),"y"!==b.axis&&c.append(d[2]+d[3]));C.update.call(null,e)}})},update:function(a){a=a||E.call(this);return f(a).each(function(){var a=f(this);if(a.data("mTS")){var b=
a.data("mTS"),c=b.opt,g=f("#mTS_"+b.idx+"_container");if(g.length){b.tweenRunning&&M(a);a.hasClass(A[0])&&a.removeClass(A[0]);a.hasClass(A[1])&&a.removeClass(A[1]);var h=f(this),d=h.data("mTS"),d=f("#mTS_"+d.idx),l=h.css("max-height"),k=-1!==l.indexOf("%"),n=h.css("box-sizing");"none"!==l&&(l=k?h.parent().height()*parseInt(l)/100:parseInt(l),"border-box"===n&&(l-=h.innerHeight()-h.height()+(h.outerHeight()-h.innerHeight())),d.css("max-height",Math.round(l)));d=f(this).data("mTS");h=d.opt;d=f("#mTS_"+
d.idx+"_container");h.advanced.autoExpandHorizontalScroll&&"y"!==h.axis&&d.css({position:"absolute",width:"auto"}).wrap("<div class='mTS_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:Math.ceil(d[0].getBoundingClientRect().right)-Math.floor(d[0].getBoundingClientRect().left),position:"relative"}).unwrap();d=f(this).data("mTS");h=f("#mTS_"+d.idx);d=f("#mTS_"+d.idx+"_container");h=[d.height()>h.height(),d.width()>h.width()];b.overflowed=h;G.call(this);h=f(this).data("mTS");
d=h.opt;h.bindEvents||(d.contentTouchScroll&&da.call(this),-1!==d.type.indexOf("hover")?"hover-precise"===d.type?ea.call(this):fa.call(this):-1!==d.type.indexOf("click")&&ga.call(this),h.bindEvents=!0);g=[g[0].offsetTop,g[0].offsetLeft];"x"!==c.axis&&(b.overflowed[0]?B(a,g[0].toString(),{dir:"y",dur:0,overwrite:"none"}):(N.call(this),"y"===c.axis?(B(a,"0",{dir:"y",dur:0,overwrite:"none"}),O.call(this)):"yx"===c.axis&&b.overflowed[1]&&B(a,g[1].toString(),{dir:"x",dur:0,overwrite:"none"})));"y"!==c.axis&&
(b.overflowed[1]?B(a,g[1].toString(),{dir:"x",dur:0,overwrite:"none"}):(N.call(this),"x"===c.axis?(B(a,"0",{dir:"x",dur:0,overwrite:"none"}),O.call(this)):"yx"===c.axis&&b.overflowed[0]&&B(a,g[0].toString(),{dir:"y",dur:0,overwrite:"none"})));b.overflowed[0]||b.overflowed[1]?a.removeClass(A[2]):a.addClass(A[2]);V.call(this)}}})},scrollTo:function(a,e){if("undefined"!=typeof a&&null!=a){var b=E.call(this);return f(b).each(function(){var b=f(this);if(b.data("mTS")){var g=b.data("mTS"),h=g.opt,d=f.extend(!0,
{},{trigger:"external",speed:h.speed,duration:1E3,easing:"easeInOut",timeout:60,callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},e),l=W.call(this,a),k=d.duration?d.duration:7E3/(d.speed||1);l[0]=Z.call(this,l[0],"y");l[1]=Z.call(this,l[1],"x");d.dur=0<k&&17>k?17:k;setTimeout(function(){null!==l[0]&&"undefined"!==typeof l[0]&&"x"!==h.axis&&g.overflowed[0]&&(d.dir="y",d.overwrite="all",B(b,-l[0].toString(),d));null!==l[1]&&"undefined"!==typeof l[1]&&"y"!==h.axis&&g.overflowed[1]&&(d.dir="x",d.overwrite=
"none",B(b,-l[1].toString(),d))},d.timeout)}})}},stop:function(){var a=E.call(this);return f(a).each(function(){var a=f(this);a.data("mTS")&&M(a)})},disable:function(a){var e=E.call(this);return f(e).each(function(){var b=f(this);b.data("mTS")&&(b.data("mTS"),V.call(this,"remove"),O.call(this),a&&N.call(this),G.call(this,!0),b.addClass(A[0]))})},destroy:function(){var a=E.call(this);return f(a).each(function(){var e=f(this);if(e.data("mTS")){var b=e.data("mTS"),c=b.opt,g=f("#mTS_"+b.idx);f("#mTS_"+
b.idx+"_container");var h=f("#mTS_"+b.idx+"_buttonUp,#mTS_"+b.idx+"_buttonDown,#mTS_"+b.idx+"_buttonLeft,#mTS_"+b.idx+"_buttonRight");c.live&&K(a);V.call(this,"remove");O.call(this);N.call(this);e.removeData("mTS");P(this,"mts");h.remove();g.replaceWith(b.html);e.removeClass("mThumbnailScroller _mTS_"+b.idx+" mTS-"+c.theme+" "+A[2]+" "+A[0]).addClass(A[1])}})}},E=function(){return"object"!==typeof f(this)||1>f(this).length?".mThumbnailScroller":this},Y=function(a){var e=["buttons-out"],b=["hover-classic"],
c=["hover-full"];a.markup.buttonsPlaceholder=-1<f.inArray(a.theme,["buttons-out"])?"outside":a.markup.buttonsPlaceholder;a.markup.buttonsHTML=-1<f.inArray(a.theme,["buttons-in"])?{up:"SVG set 2",down:"SVG set 2",left:"SVG set 2",right:"SVG set 2"}:-1<f.inArray(a.theme,e)?{up:"SVG set 3",down:"SVG set 3",left:"SVG set 3",right:"SVG set 3"}:a.markup.buttonsHTML;a.type=-1<f.inArray(a.theme,b)?"hover-85":-1<f.inArray(a.theme,c)?"hover-precise":a.type;a.speed=-1<f.inArray(a.theme,b)?60:-1<f.inArray(a.theme,
c)?10:a.speed},K=function(a){I[a]&&(clearTimeout(I[a]),P(I,a))},L=function(a){var e=f(this).data("mTS").opt.markup.buttonsHTML,b="SVG set 1"===e[a]?0:"SVG set 2"===e[a]?1:"SVG set 3"===e[a]?2:"SVG set 4"===e[a]?3:"SVG set 5"===e[a]?4:null;switch(a){case "up":return null===b?e[a]:J?"&uarr;":Q(e[a])[b][0];case "down":return null===b?e[a]:J?"&darr;":Q(e[a])[b][1];case "left":return null===b?e[a]:J?"&larr;":Q(e[a])[b][2];case "right":return null===b?e[a]:J?"&rarr;":Q(e[a])[b][3]}},Q=function(){return[["<svg version='1.1' viewBox='0 0 24 24' preserveAspectRatio='xMinYMin meet' class='mTSButtonIcon'><g><line stroke-width='1' x1='' y1='' x2='' y2='' stroke='#449FDB' opacity=''></line></g><path d='M20.561 9.439l-7.5-7.5c-0.586-0.586-1.535-0.586-2.121 0l-7.5 7.5c-0.586 0.586-0.586 1.536 0 2.121s1.536 0.586 2.121 0l4.939-4.939v14.379c0 0.828 0.672 1.5 1.5 1.5s1.5-0.672 1.5-1.5v-14.379l4.939 4.939c0.293 0.293 0.677 0.439 1.061 0.439s0.768-0.146 1.061-0.439c0.586-0.586 0.586-1.535 0-2.121z'></path></svg>",
"<svg version='1.1' viewBox='0 0 24 24' preserveAspectRatio='xMinYMin meet' class='mTSButtonIcon'><g><line stroke-width='1' x1='' y1='' x2='' y2='' stroke='#449FDB' opacity=''></line></g><path d='M3.439 14.561l7.5 7.5c0.586 0.586 1.536 0.586 2.121 0l7.5-7.5c0.586-0.586 0.586-1.536 0-2.121s-1.536-0.586-2.121 0l-4.939 4.939v-14.379c0-0.828-0.672-1.5-1.5-1.5s-1.5 0.672-1.5 1.5v14.379l-4.939-4.939c-0.293-0.293-0.677-0.439-1.061-0.439s-0.768 0.146-1.061 0.439c-0.586 0.586-0.586 1.536 0 2.121z'></path></svg>",
"<svg version='1.1' viewBox='0 0 24 24' preserveAspectRatio='xMinYMin meet' class='mTSButtonIcon'><g><line stroke-width='1' x1='' y1='' x2='' y2='' stroke='#449FDB' opacity=''></line></g><path d='M9.439 3.439l-7.5 7.5c-0.586 0.586-0.586 1.536 0 2.121l7.5 7.5c0.586 0.586 1.536 0.586 2.121 0s0.586-1.536 0-2.121l-4.939-4.939h14.379c0.828 0 1.5-0.672 1.5-1.5s-0.672-1.5-1.5-1.5h-14.379l4.939-4.939c0.293-0.293 0.439-0.677 0.439-1.061s-0.146-0.768-0.439-1.061c-0.586-0.586-1.536-0.586-2.121 0z'></path></svg>",
"<svg version='1.1' viewBox='0 0 24 24' preserveAspectRatio='xMinYMin meet' class='mTSButtonIcon'><g><line stroke-width='1' x1='' y1='' x2='' y2='' stroke='#449FDB' opacity=''></line></g><path d='M14.561 20.561l7.5-7.5c0.586-0.586 0.586-1.536 0-2.121l-7.5-7.5c-0.586-0.586-1.536-0.586-2.121 0s-0.586 1.536 0 2.121l4.939 4.939h-14.379c-0.828 0-1.5 0.672-1.5 1.5s0.672 1.5 1.5 1.5h14.379l-4.939 4.939c-0.293 0.293-0.439 0.677-0.439 1.061s0.146 0.768 0.439 1.061c0.586 0.586 1.536 0.586 2.121 0z'></path></svg>"],
["<svg version='1.1' viewBox='0 0 24 24' preserveAspectRatio='xMinYMin meet' class='mTSButtonIcon'><g><line stroke-width='1' x1='' y1='' x2='' y2='' stroke='#449FDB' opacity=''></line></g><path d='M18.58 13.724c-0.488-0.502-5.634-5.402-5.634-5.402-0.262-0.268-0.604-0.402-0.946-0.402-0.343 0-0.685 0.134-0.946 0.402 0 0-5.146 4.901-5.635 5.402-0.488 0.502-0.522 1.404 0 1.939 0.523 0.534 1.252 0.577 1.891 0l4.69-4.496 4.688 4.496c0.641 0.577 1.37 0.534 1.891 0 0.523-0.536 0.491-1.439 0-1.939z'</path></svg>",
"<svg version='1.1' viewBox='0 0 24 24' preserveAspectRatio='xMinYMin meet' class='mTSButtonIcon'><g><line stroke-width='1' x1='' y1='' x2='' y2='' stroke='#449FDB' opacity=''></line></g><path d='M18.58 10.276c-0.488 0.502-5.634 5.404-5.634 5.404-0.262 0.268-0.604 0.401-0.946 0.401-0.343 0-0.685-0.133-0.946-0.401 0 0-5.146-4.902-5.635-5.404-0.488-0.502-0.522-1.403 0-1.939 0.523-0.535 1.252-0.577 1.891 0l4.69 4.498 4.688-4.496c0.641-0.577 1.37-0.535 1.891 0 0.523 0.535 0.491 1.438 0 1.938z'></path></svg>",
"<svg version='1.1' viewBox='0 0 24 24' preserveAspectRatio='xMinYMin meet' class='mTSButtonIcon'><g><line stroke-width='1' x1='' y1='' x2='' y2='' stroke='#449FDB' opacity=''></line></g><path d='M13.724 5.419c-0.502 0.49-5.402 5.635-5.402 5.635-0.268 0.262-0.401 0.604-0.401 0.946s0.133 0.684 0.401 0.946c0 0 4.901 5.146 5.402 5.634 0.502 0.49 1.404 0.523 1.939 0 0.534-0.522 0.576-1.25-0.001-1.89l-4.496-4.69 4.496-4.69c0.577-0.641 0.535-1.369 0.001-1.891-0.536-0.522-1.439-0.49-1.939 0z'></path></svg>",
"<svg version='1.1' viewBox='0 0 24 24' preserveAspectRatio='xMinYMin meet' class='mTSButtonIcon'><g><line stroke-width='1' x1='' y1='' x2='' y2='' stroke='#449FDB' opacity=''></line></g><path d='M10.276 5.419c0.502 0.49 5.402 5.635 5.402 5.635 0.269 0.262 0.402 0.604 0.402 0.946s-0.133 0.684-0.402 0.946c0 0-4.901 5.146-5.402 5.634-0.502 0.49-1.403 0.523-1.939 0-0.535-0.522-0.577-1.25 0-1.89l4.498-4.69-4.496-4.69c-0.577-0.641-0.535-1.369 0-1.891s1.438-0.49 1.938 0z'></path></svg>"],["<svg version='1.1' viewBox='0 0 24 24' preserveAspectRatio='xMinYMin meet' class='mTSButtonIcon'><g><line stroke-width='1' x1='' y1='' x2='' y2='' stroke='#449FDB' opacity=''></line></g><path d='M20.902 17.279c0.325 0.322 0.851 0.322 1.175 0 0.325-0.322 0.325-0.841 0-1.163l-9.49-9.396c-0.324-0.322-0.85-0.322-1.174 0l-9.49 9.396c-0.324 0.322-0.325 0.841 0 1.163s0.85 0.322 1.175 0l8.902-8.569 8.902 8.569z'></path></svg>",
"<svg version='1.1' viewBox='0 0 24 24' preserveAspectRatio='xMinYMin meet' class='mTSButtonIcon'><g><line stroke-width='1' x1='' y1='' x2='' y2='' stroke='#449FDB' opacity=''></line></g><path d='M3.098 6.721c-0.325-0.322-0.851-0.322-1.175 0-0.324 0.32-0.324 0.841 0 1.163l9.49 9.396c0.325 0.322 0.85 0.322 1.175 0l9.49-9.396c0.324-0.322 0.325-0.841 0-1.163s-0.852-0.322-1.175-0.001l-8.903 8.569-8.902-8.568z'></path></svg>","<svg version='1.1' viewBox='0 0 24 24' preserveAspectRatio='xMinYMin meet' class='mTSButtonIcon'><g><line stroke-width='1' x1='' y1='' x2='' y2='' stroke='#449FDB' opacity=''></line></g><path d='M17.279 20.902c0.322 0.325 0.322 0.85 0 1.175s-0.841 0.325-1.163 0l-9.396-9.488c-0.322-0.325-0.322-0.851 0-1.175l9.396-9.49c0.322-0.325 0.841-0.325 1.163 0s0.322 0.85 0 1.175l-8.568 8.902 8.568 8.902z'</path></svg>",
"<svg version='1.1' viewBox='0 0 24 24' preserveAspectRatio='xMinYMin meet' class='mTSButtonIcon'><g><line stroke-width='1' x1='' y1='' x2='' y2='' stroke='#449FDB' opacity=''></line></g><path d='M6.72 20.902c-0.322 0.325-0.322 0.85 0 1.175s0.841 0.325 1.163 0l9.396-9.488c0.322-0.325 0.322-0.851 0-1.175l-9.396-9.49c-0.322-0.325-0.841-0.325-1.163 0s-0.322 0.85 0 1.175l8.568 8.902-8.568 8.902z'</path></svg>"],["<svg version='1.1' viewBox='0 0 24 24' preserveAspectRatio='xMinYMin meet' class='mTSButtonIcon'><g><line stroke-width='1' x1='' y1='' x2='' y2='' stroke='#449FDB' opacity=''></line></g><path d='M12 0l-12 12h7.5v12l9 0v-12h7.5z'></path></svg>",
"<svg version='1.1' viewBox='0 0 24 24' preserveAspectRatio='xMinYMin meet' class='mTSButtonIcon'><g><line stroke-width='1' x1='' y1='' x2='' y2='' stroke='#449FDB' opacity=''></line></g><path d='M12 24l12-12h-7.5v-12l-9-0v12h-7.5z'></path></svg>","<svg version='1.1' viewBox='0 0 24 24' preserveAspectRatio='xMinYMin meet' class='mTSButtonIcon'><g><line stroke-width='1' x1='' y1='' x2='' y2='' stroke='#449FDB' opacity=''></line></g><path d='M0 12l12 12v-7.5h12l0-9h-12v-7.5z'></path></svg>","<svg version='1.1' viewBox='0 0 24 24' preserveAspectRatio='xMinYMin meet' class='mTSButtonIcon'><g><line stroke-width='1' x1='' y1='' x2='' y2='' stroke='#449FDB' opacity=''></line></g><path d='M24 12l-12-12v7.5h-12l-0 9h12v7.5z'></path></svg>"],
["<svg version='1.1' viewBox='0 0 24 24' preserveAspectRatio='xMinYMin meet' class='mTSButtonIcon'><g><line stroke-width='1' x1='' y1='' x2='' y2='' stroke='#449FDB' opacity=''></line></g><path d='M6.48 16.8h11.040l-5.521-9.6z'></path></svg>","<svg version='1.1' viewBox='0 0 24 24' preserveAspectRatio='xMinYMin meet' class='mTSButtonIcon'><g><line stroke-width='1' x1='' y1='' x2='' y2='' stroke='#449FDB' opacity=''></line></g><path d='M17.52 7.201l-11.040-0.001 5.52 9.6z'></path></svg>","<svg version='1.1' viewBox='0 0 24 24' preserveAspectRatio='xMinYMin meet' class='mTSButtonIcon'><g><line stroke-width='1' x1='' y1='' x2='' y2='' stroke='#449FDB' opacity=''></line></g><path d='M16.799 6.48l0.001 11.040-9.6-5.52z'></path></svg>",
"<svg version='1.1' viewBox='0 0 24 24' preserveAspectRatio='xMinYMin meet' class='mTSButtonIcon'><g><line stroke-width='1' x1='' y1='' x2='' y2='' stroke='#449FDB' opacity=''></line></g><path d='M7.201 6.48l-0.001 11.040 9.6-5.52z'></path></svg>"]]},N=function(){var a=f(this),e=a.data("mTS"),b=e.opt,c=f("#mTS_"+e.idx),g=f("#mTS_"+e.idx+"_container");M(a);("x"!==b.axis&&!e.overflowed[0]||"y"===b.axis&&e.overflowed[0])&&g.css("top",0);if("y"!==b.axis&&!e.overflowed[1]||"x"===b.axis&&e.overflowed[1])a=
"rtl"===e.langDir?c.width()-g.width():0,g.css("left",a)},O=function(){var a=f(this).data("mTS"),e="mTS_"+a.idx,b=f("#mTS_"+a.idx+",#mTS_"+a.idx+"_container,#mTS_"+a.idx+"_buttonUp,#mTS_"+a.idx+"_buttonDown,#mTS_"+a.idx+"_buttonLeft,#mTS_"+a.idx+"_buttonRight"),c=f("#mTS_"+a.idx+"_container");a.bindEvents&&(b.each(function(){f(this).unbind("."+e)}),clearTimeout(c[0].onCompleteTimeout),P(c[0],"onCompleteTimeout"),a.bindEvents=!1)},G=function(a,e,b){var c=f(this).data("mTS"),g=c.opt;-1!==g.type.indexOf("click")&&
(b||(b=g.axis),g=[f("#mTS_"+c.idx+"_buttonUp"),f("#mTS_"+c.idx+"_buttonDown"),f("#mTS_"+c.idx+"_buttonLeft"),f("#mTS_"+c.idx+"_buttonRight")],"x"!==b&&(sel=!c.overflowed[0]||a||e?1===e?[g[0],g[1]]:2===e?[g[1],g[0]]:[g[0].add(g[1]),null]:[c.overflowed[1]?null:g[2].add(g[3]),g[0].add(g[1])]),"y"!==b&&(sel=!c.overflowed[1]||a||e?1===e?[g[2],g[3]]:2===e?[g[3],g[2]]:[g[2].add(g[3]),null]:[c.overflowed[0]?null:g[0].add(g[1]),g[2].add(g[3])]),sel[0]&&sel[0].addClass("mTS-hidden"),sel[1]&&sel[1].removeClass("mTS-hidden"))},
z=function(a){switch(a.type){case "pointerdown":case "MSPointerDown":case "pointermove":case "MSPointerMove":case "pointerup":case "MSPointerUp":return[a.originalEvent.pageY,a.originalEvent.pageX];case "touchstart":case "touchmove":case "touchend":return a=a.originalEvent.touches[0]||a.originalEvent.changedTouches[0],[a.pageY,a.pageX];default:return[a.pageY,a.pageX]}},R=function(a){return U||-1!==a.type.indexOf("touch")||"undefined"!==typeof a.pointerType&&(2===a.pointerType||"touch"===a.pointerType)?
"touch":"mouse"},da=function(){function a(a,b){var c=[1.5*b,2*b,b/1.5,b/2];return 90<a?4<b?c[0]:c[3]:60<a?3<b?c[3]:c[2]:30<a?8<b?c[1]:6<b?c[0]:4<b?b:c[2]:8<b?b:c[3]}function e(a,c,e,d,f){a&&B(b,-a.toString(),{dur:c,easing:e,dir:d,overwrite:f})}var b=f(this),c=b.data("mTS"),g=c.opt,h="mTS_"+c.idx,d=f("#mTS_"+c.idx),l=f("#mTS_"+c.idx+"_container"),k,n,m,p,q=[],u=[],r,v,y,w,x,t,A,X="yx"===g.axis?"none":"all",D=[];l.bind("touchstart."+h+" pointerdown."+h+" MSPointerDown."+h,function(a){if(S(a)){var b=
l.offset();k=z(a)[0]-b.top;n=z(a)[1]-b.left;D=[z(a)[0],z(a)[1]]}}).bind("touchmove."+h+" pointermove."+h+" MSPointerMove."+h,function(a){if(S(a)){a.stopImmediatePropagation();v=H();var b=d.offset(),f=z(a)[0]-b.top,b=z(a)[1]-b.left;q.push(f);u.push(b);D[2]=Math.abs(z(a)[0]-D[0]);D[3]=Math.abs(z(a)[1]-D[1]);if(c.overflowed[0])var h=d.height()-l.height(),h=0<k-f&&f-k>h&&2*D[3]<D[2];if(c.overflowed[1])var m=d.width()-l.width(),m=0<n-b&&b-n>m&&2*D[2]<D[3];(h||m)&&a.preventDefault();t="yx"===g.axis?[k-
f,n-b]:"x"===g.axis?[null,n-b]:[k-f,null];l[0].idleTimer=250;c.overflowed[0]&&e(t[0],0,"linearOut","y","all");c.overflowed[1]&&e(t[1],0,"linearOut","x",X)}});d.bind("touchstart."+h+" pointerdown."+h+" MSPointerDown."+h,function(a){if(S(a)){a.stopImmediatePropagation();U=!0;M(b);r=H();var c=d.offset();m=z(a)[0]-c.top;p=z(a)[1]-c.left;q=[];u=[]}}).bind("touchend."+h+" pointerup."+h+" MSPointerUp."+h,function(b){if(S(b)){b.stopImmediatePropagation();y=H();var f=d.offset(),k=z(b)[0]-f.top,f=z(b)[1]-f.left;
if(!(30<y-v)){x=1E3/(y-r);var h=(b=2.5>x)?[q[q.length-2],u[u.length-2]]:[0,0];w=b?[k-h[0],f-h[1]]:[k-m,f-p];k=[Math.abs(w[0]),Math.abs(w[1])];x=b?[Math.abs(w[0]/4),Math.abs(w[1]/4)]:[x,x];b=[Math.abs(l[0].offsetTop)-w[0]*a(k[0]/x[0],x[0]),Math.abs(l[0].offsetLeft)-w[1]*a(k[1]/x[1],x[1])];t="yx"===g.axis?[b[0],b[1]]:"x"===g.axis?[null,b[1]]:[b[0],null];A=[4*k[0]+60*g.speed,4*k[1]+60*g.speed];b=parseInt(g.contentTouchScroll)||0;t[0]=k[0]>b?t[0]:0;t[1]=k[1]>b?t[1]:0;c.overflowed[0]&&e(t[0],A[0],"easeOut",
"y",X);c.overflowed[1]&&e(t[1],A[1],"easeOut","x",X)}}})},ea=function(){var a=f(this),e=a.data("mTS"),b=e.opt,c="mTS_"+e.idx,g=f("#mTS_"+e.idx),h=f("#mTS_"+e.idx+"_container"),d,l,k;g.bind((window.navigator.pointerEnabled?"pointermove":window.navigator.msPointerEnabled?"MSPointerMove":"mousemove")+"."+c,function(c){if("touch"!==R(c.originalEvent||c)&&(e.overflowed[0]||e.overflowed[1])){c.preventDefault();var f=g.height(),p=h.height(),q=g.width(),u=h.width(),r=u/q*7E3/(b.speed||1);d=[z(c)[0]-g.offset().top,
z(c)[1]-g.offset().left];l=[d[0]/g.height(),d[1]/g.width()];k=[Math.round(-((p-f)*l[0])),Math.round(-((u-q)*l[1]))];"x"!==b.axis&&e.overflowed[0]&&B(a,k[0].toString(),{dir:"y",dur:r,easing:"easeOut"});"y"!==b.axis&&e.overflowed[1]&&B(a,k[1].toString(),{dir:"x",dur:r,easing:"easeOut"})}})},fa=function(){function a(){d[0].rAF||(n=window.requestAnimationFrame?window.requestAnimationFrame:function(a){return setTimeout(a,17)},d[0].rAF=n(e))}function e(){if(!U){q=[p[0]+l[0].offsetTop,p[1]+l[0].offsetLeft];
var a=[d.height()-l.height(),d.width()-l.width()];"x"!==g.axis&&c.overflowed[0]&&(q[0]=0<q[0]?0:q[0]<a[0]?a[0]:q[0],p[0]&&!x[0]&&B(b,q[0],{dir:"y",dur:0,easing:"linear"}),0<=q[0]||q[0]<=a[0])&&(x[0]=1);"y"!==g.axis&&c.overflowed[1]&&(q[1]=0<q[1]?0:q[1]<a[1]?a[1]:q[1],p[1]&&!x[1]&&B(b,q[1],{dir:"x",dur:0,easing:"linear"}),0<=q[1]||q[1]<=a[1])&&(x[1]=1);u=setTimeout(function(){d[0].rAF=n(e)},r)}}var b=f(this),c=b.data("mTS"),g=c.opt,h="mTS_"+c.idx,d=f("#mTS_"+c.idx),l=f("#mTS_"+c.idx+"_container"),
k=window.navigator.pointerEnabled?["pointerover","pointermove","pointerout"]:window.navigator.msPointerEnabled?["MSPointerOver","MSPointerMove","MSPointerOut"]:["mouseenter","mousemove","mouseleave"],n,m,p,q,u,r=window.requestAnimationFrame?0:17,v=g.speed,y=parseInt(g.type.split("hover-")[1])||1,w=v*y/100,x=[0,0];d.bind(k[0]+"."+h,function(b){"touch"!==R(b.originalEvent||b)&&(c.overflowed[0]||c.overflowed[1])&&a()}).bind(k[1]+"."+h,function(a){"touch"!==R(a.originalEvent||a)&&(c.overflowed[0]||c.overflowed[1])&&
(m=[z(a)[0]-d.offset().top,z(a)[1]-d.offset().left],p=[Math.round(Math.cos(m[0]/d.height()*Math.PI)*v),Math.round(Math.cos(m[1]/d.width()*Math.PI)*v)],p[0]=p[0]<=-w?p[0]+=w:p[0]>=w?p[0]-=w:p[0]=0,p[1]=p[1]<=-w?p[1]+=w:p[1]>=w?p[1]-=w:p[1]=0,x=[0,0])}).bind(k[2]+"."+h,function(a){"touch"!==R(a.originalEvent||a)&&(c.overflowed[0]||c.overflowed[1])&&null!=d[0].rAF&&(window.requestAnimationFrame?window.cancelAnimationFrame(d[0].rAF):clearTimeout(d[0].rAF),clearTimeout(u),d[0].rAF=null)})},ga=function(){var a=
f(this),e=a.data("mTS"),b=e.opt,c="mTS_"+e.idx,g=f("#mTS_"+e.idx),h=f("#mTS_"+e.idx+"_container"),d=[f("#mTS_"+e.idx+"_buttonUp"),f("#mTS_"+e.idx+"_buttonDown"),f("#mTS_"+e.idx+"_buttonLeft"),f("#mTS_"+e.idx+"_buttonRight")];d[0].add(d[1]).add(d[2]).add(d[3]).bind("click."+c,function(c){if(!(c.which&&1!==c.which||!e.overflowed[0]&&!e.overflowed[1]||(c.preventDefault(),e.tweenRunning))){if("x"!==b.axis&&e.overflowed[0]){c=g.height();var d="click-thumb"===b.type?0:f(this).hasClass("mTSButtonUp")?"+=":
f(this).hasClass("mTSButtonDown")?"-=":0;if("click-thumb"!==b.type)var n=parseInt(b.type.split("click-")[1])||1,m=d?[d+c*n/100,null]:0;else if(d=T.call(a[0])[0],n=T.call(a[0])[1],f(this).hasClass("mTSButtonDown"))m=n?n[0].offsetTop-parseInt(n.css("margin-bottom"))-c:989999;else if(f(this).hasClass("mTSButtonUp")&&(m=d?d[0].offsetTop-parseInt(d.css("margin-top")):0,0===h[0].offsetTop))return}if("y"!==b.axis&&e.overflowed[1])if(c=g.width(),d="click-thumb"===b.type?0:f(this).hasClass("mTSButtonLeft")?
"+=":f(this).hasClass("mTSButtonRight")?"-=":0,"click-thumb"!==b.type)n=parseInt(b.type.split("click-")[1])||1,m=d?[null,d+c*n/100]:m;else if(d=T.call(a[0])[2],n=T.call(a[0])[3],f(this).hasClass("mTSButtonRight"))m=n?n[0].offsetLeft-parseInt(n.css("margin-right"))-c:989999;else if(f(this).hasClass("mTSButtonLeft")&&(m=d?d[0].offsetLeft-parseInt(d.css("margin-left")):0,0===h[0].offsetLeft))return;null!==m&&C.scrollTo.call(a[0],m,{duration:0})}})},T=function(){var a=f(this).data("mTS"),e=f("#mTS_"+
a.idx+"_container"),b=f("#mTS_"+a.idx),c=e.find(".mTSThumbContainer"),g,h,d,l;c.each(function(){var a=f(this),n=[Math.round(a.offset().top-e.offset().top+e[0].offsetTop),Math.round(a.offset().left-e.offset().left+e[0].offsetLeft)];if(n[0]<=0-parseInt(a.css("margin-top")))g=0===n[0]?c.eq(a.index()-1):c.eq(a.index());else if(n[0]<=b.height()+parseInt(a.css("margin-bottom"))){var m=c.eq(a.index()+1);h=m.length?m:null}n[1]<=0-parseInt(a.css("margin-left"))?d=0===n[1]?c.eq(a.index()-1):c.eq(a.index()):
n[1]<=b.width()+parseInt(a.css("margin-right"))&&(a=c.eq(a.index()+1),l=a.length?a:null)});return[g,h,d,l]},W=function(a){var e=f(this).data("mTS").opt,b=[];"function"===typeof a&&(a=a());a instanceof Array?b=1<a.length?[a[0],a[1]]:"x"===e.axis?[null,a[0]]:[a[0],null]:(b[0]=a.y?a.y:a.x||"x"===e.axis?null:a,b[1]=a.x?a.x:a.y||"y"===e.axis?null:a);"function"===typeof b[0]&&(b[0]=b[0]());"function"===typeof b[1]&&(b[1]=b[1]());return b},Z=function(a,e){if(null!=a&&"undefined"!=typeof a){var b=f(this),
c=b.data("mTS"),g=c.opt,h=f("#mTS_"+c.idx),c=f("#mTS_"+c.idx+"_container"),d=typeof a;e||(e="x"===g.axis?"x":"y");var l="x"===e?c.width():c.height(),g="x"===e?c.offset().left:c.offset().top,k="x"===e?c[0].offsetLeft:c[0].offsetTop,n="x"===e?"left":"top";switch(d){case "function":return a();case "object":if(a.nodeType)var m="x"===e?f(a).offset().left:f(a).offset().top;else if(a.jquery){if(!a.length)break;m="x"===e?a.offset().left:a.offset().top}return m-g;case "string":case "number":if(aa(a))return Math.abs(a);
if(-1!==a.indexOf("%"))return Math.abs(l*parseInt(a)/100);if(-1!==a.indexOf("-="))return Math.abs(k-parseInt(a.split("-=")[1]));if(-1!==a.indexOf("+="))return b=k+parseInt(a.split("+=")[1]),0<=b?0:Math.abs(b);if(-1!==a.indexOf("px")&&aa(a.split("px")[0]))return Math.abs(a.split("px")[0]);if("top"===a||"left"===a)return 0;if("bottom"===a)return Math.abs(h.height()-c.height());if("right"===a)return Math.abs(h.width()-c.width());if("first"===a||"last"===a)return b=c.find(":"+a),m="x"===e?f(b).offset().left:
f(b).offset().top,m-g;if(f(a).length)return m="x"===e?f(a).offset().left:f(a).offset().top,m-g;c.css(n,a);C.update.call(null,b[0])}}},V=function(a){function e(){clearTimeout(m[0].autoUpdate);m[0].autoUpdate=setTimeout(function(){if(k.advanced.updateOnSelectorChange&&(q=g(),q!==p)){h();p=q;return}k.advanced.updateOnContentResize&&(r=[m.height(),m.width(),n.height(),n.width(),d.height(),d.width()],r[0]!==u[0]||r[1]!==u[1]||r[2]!==u[2]||r[3]!==u[3]||r[4]!==u[4]||r[5]!==u[5])&&(h(),u=r);k.advanced.updateOnImageLoad&&
(y=b(),y!==v&&(m.find("img").each(function(){c(this.src)}),v=y));(k.advanced.updateOnSelectorChange||k.advanced.updateOnContentResize||k.advanced.updateOnImageLoad)&&e()},60)}function b(){var a=0;k.advanced.updateOnImageLoad&&(a=m.find("img").length);return a}function c(a){var b=new Image;b.onload=function(a,b){return function(){return b.apply(a,arguments)}}(b,function(){this.onload=null;h()});b.src=a}function g(){!0===k.advanced.updateOnSelectorChange&&(k.advanced.updateOnSelectorChange="*");var a=
0,b=m.find(k.advanced.updateOnSelectorChange);k.advanced.updateOnSelectorChange&&0<b.length&&b.each(function(){a+=f(this).height()+f(this).width()});return a}function h(){clearTimeout(m[0].autoUpdate);C.update.call(null,d[0])}var d=f(this),l=d.data("mTS"),k=l.opt,n=f("#mTS_"+l.idx),m=f("#mTS_"+l.idx+"_container");if(a)clearTimeout(m[0].autoUpdate),P(m[0],"autoUpdate");else{var p=g(),q,u=[m.height(),m.width(),n.height(),n.width(),d.height(),d.width()],r,v=b(),y;e()}},M=function(a){a=a.data("mTS");
f("#mTS_"+a.idx+"_container").each(function(){this._mTween||(this._mTween={top:{},left:{}});for(var a=["top","left"],b=0;b<a.length;b++){var c=a[b];this._mTween[c].id&&(window.requestAnimationFrame?window.cancelAnimationFrame(this._mTween[c].id):clearTimeout(this._mTween[c].id),this._mTween[c].id=null,this._mTween[c].stop=1)}})},B=function(a,e,b){function c(a){return h&&d.callbacks[a]&&"function"===typeof d.callbacks[a]}function g(){var c=[k[0].offsetTop,k[0].offsetLeft],d=[k.height(),k.width()],
e=[l.height(),l.width()];a[0].mts={content:k,top:c[0],left:c[1],topPct:Math.round(100*Math.abs(c[0])/(Math.abs(d[0])-e[0])),leftPct:Math.round(100*Math.abs(c[1])/(Math.abs(d[1])-e[1])),direction:b.dir}}var h=a.data("mTS"),d=h.opt;b=f.extend({trigger:"internal",dir:"y",easing:"easeOut",dur:60*d.speed,overwrite:"all",callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},b);var l=f("#mTS_"+h.idx),k=f("#mTS_"+h.idx+"_container"),n=d.callbacks.onTotalScrollOffset?W.call(a,d.callbacks.onTotalScrollOffset):
[0,0],m=d.callbacks.onTotalScrollBackOffset?W.call(a,d.callbacks.onTotalScrollBackOffset):[0,0];h.trigger=b.trigger;0===l.scrollTop()&&0===l.scrollLeft()||l.scrollTop(0).scrollLeft(0);switch(b.dir){case "x":var p="left",q=k[0].offsetLeft,u=l.width()-k.width(),r=e,v=n[1],y=m[1],w=0<v?v:0,x=0<y?y:0;break;case "y":p="top",q=k[0].offsetTop,u=l.height()-k.height(),r=e,v=n[0],y=m[0],w=0<v?v:0,x=0<y?y:0}0<=r?(r=0,G.call(a,!1,1,b.dir)):r<=u?(r=u,G.call(a,!1,2,b.dir)):G.call(a,!1,0,b.dir);a[0].mts||(g(),c("onInit")&&
d.callbacks.onInit.call(a[0]));clearTimeout(k[0].onCompleteTimeout);!h.tweenRunning&&(0===q&&0<=r||q===u&&r<=u)||ha(k[0],p,Math.round(r),b.dur,b.easing,b.overwrite,{onStart:function(){b.callbacks&&b.onStart&&!h.tweenRunning&&(c("onScrollStart")&&(g(),d.callbacks.onScrollStart.call(a[0])),h.tweenRunning=!0,h.cbOffsets=[d.callbacks.alwaysTriggerOffsets||q>=u+v,d.callbacks.alwaysTriggerOffsets||q<=-y])},onUpdate:function(){b.callbacks&&b.onUpdate&&c("whileScrolling")&&(g(),d.callbacks.whileScrolling.call(a[0]))},
onComplete:function(){b.callbacks&&b.onComplete&&("yx"===d.axis&&clearTimeout(k[0].onCompleteTimeout),k[0].onCompleteTimeout=setTimeout(function(){c("onScroll")&&(g(),d.callbacks.onScroll.call(a[0]));c("onTotalScroll")&&r<=u+w&&h.cbOffsets[0]&&(g(),d.callbacks.onTotalScroll.call(a[0]));c("onTotalScrollBack")&&r>=-x&&h.cbOffsets[1]&&(g(),d.callbacks.onTotalScrollBack.call(a[0]));h.tweenRunning=!1;k[0].idleTimer=0},k[0].idleTimer||0))}})},ha=function(a,e,b,c,f,h,d){function l(){t.stop||(v||m.call(),
v=H()-u,k(),v>=t.time&&(t.time=v>t.time?v+r-(v-t.time):v+r-1,t.time<v+1&&(t.time=v+1)),t.time<c?t.id=x(l):q.call())}function k(){0<c?(t.currVal=n(t.time,y,z,c,f),w[e]=Math.round(t.currVal)+"px"):w[e]=b+"px";p.call()}function n(a,b,c,d,e){switch(e){case "linear":return c*a/d+b;case "linearOut":return a/=d,a--,c*Math.sqrt(1-a*a)+b;case "easeInOutSmooth":a/=d/2;if(1>a)return c/2*a*a+b;a--;return-c/2*(a*(a-2)-1)+b;case "easeInOutStrong":a/=d/2;if(1>a)return c/2*Math.pow(2,10*(a-1))+b;a--;return c/2*(-Math.pow(2,
-10*a)+2)+b;case "easeInOut":a/=d/2;if(1>a)return c/2*a*a*a+b;a-=2;return c/2*(a*a*a+2)+b;case "easeOutSmooth":return a/=d,a--,-c*(a*a*a*a-1)+b;case "easeOutStrong":return c*(-Math.pow(2,-10*a/d)+1)+b;default:return d=(a/=d)*a,e=d*a,b+c*(.499999999999997*e*d+-2.5*d*d+5.5*e+-6.5*d+4*a)}}a._mTween||(a._mTween={top:{},left:{}});d=d||{};var m=d.onStart||function(){},p=d.onUpdate||function(){},q=d.onComplete||function(){},u=H(),r,v=0,y=a.offsetTop,w=a.style,x,t=a._mTween[e];"left"===e&&(y=a.offsetLeft);
var z=b-y;t.stop=0;"none"!==h&&null!=t.id&&(window.requestAnimationFrame?window.cancelAnimationFrame(t.id):clearTimeout(t.id),t.id=null);(function(){r=1E3/60;t.time=v+r;x=window.requestAnimationFrame?window.requestAnimationFrame:function(a){k();return setTimeout(a,.01)};t.id=x(l)})()},H=function(){return window.performance&&window.performance.now?window.performance.now():window.performance&&window.performance.webkitNow?window.performance.webkitNow():Date.now?Date.now():(new Date).getTime()},P=function(a,
e){try{delete a[e]}catch(b){a[e]=null}},S=function(a){a=a.originalEvent.pointerType;return!(a&&"touch"!==a&&2!==a)},aa=function(a){return!isNaN(parseFloat(a))&&isFinite(a)};f.fn.mThumbnailScroller=function(a){if(C[a])return C[a].apply(this,Array.prototype.slice.call(arguments,1));if("object"!==typeof a&&a)f.error("Method "+a+" does not exist");else return C.init.apply(this,arguments)};f.mThumbnailScroller=function(a){if(C[a])return C[a].apply(this,Array.prototype.slice.call(arguments,1));if("object"!==
typeof a&&a)f.error("Method "+a+" does not exist");else return C.init.apply(this,arguments)};f.mThumbnailScroller.defaults=F;window.mThumbnailScroller=!0;f(window).load(function(){var a=f(".mThumbnailScroller"),e=[];if(a.length)for(a.each(function(){var a=f(this),c=a.data("mts-axis")||F.axis,g=a.data("mts-type")||F.type,h=a.data("mts-theme")||F.theme,h="auto-mTS-"+c+"-"+g+"-"+h,c=[h,c,g];a.addClass(h);-1===f.inArray(h,e)&&e.push(c)}),a=0;a<e.length;a++)f("."+e[a][0]).mThumbnailScroller({axis:e[a][1],
type:e[a][2]})})});